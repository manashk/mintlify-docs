---
title: "Batch Jobs API"
sidebarTitle: "Batch Jobs"
description: "Upload CSV files, create batch calling jobs, schedule execution, and track per-item status."
icon: "list-check"
---

import { CodeGroup, Info, Warning, ParamField, Expandable } from "mintlify/components";

## Upload CSV & Create Batch

Upload a CSV file of phone numbers and create a batch calling job.

**`POST /batch/upload`**

**Authentication:** JWT cookie (Developer+)

**Content-Type:** `multipart/form-data`

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `file` | file | ✅ | CSV file with `phone_number` column |
| `name` | string | ✅ | Batch job name |
| `agent_id` | string | ✅ | Agent to make the calls |
| `agent_phone_number` | string | ✅ | Source phone number |
| `scheduled_time` | string | — | ISO 8601 datetime for scheduling |
| `timezone` | string | — | Timezone for scheduling |

<CodeGroup>
```bash Request
curl -X POST "https://api.vaani.ai/batch/upload" \
  -H "Cookie: access_token=YOUR_TOKEN" \
  -F "file=@contacts.csv" \
  -F "name=Feb Appointment Reminders" \
  -F "agent_id=ag_550e8400" \
  -F "agent_phone_number=+16505551234"
```

```json Response (201)
{
  "id": "batch_001",
  "name": "Feb Appointment Reminders",
  "agent_id": "ag_550e8400",
  "status": "draft",
  "total_items": 150,
  "created_at": "2026-02-11T00:30:00Z"
}
```
</CodeGroup>

---

## Send Batch Now

Dispatch a batch job immediately.

**`POST /batch/{batch_id}/send`**

<CodeGroup>
```bash Request
curl -X POST "https://api.vaani.ai/batch/batch_001/send" \
  -H "Cookie: access_token=YOUR_TOKEN"
```

```json Response
{
  "id": "batch_001",
  "status": "running",
  "message": "Batch dispatch started"
}
```
</CodeGroup>

---

## Get Batch Status

**`GET /batch/{batch_id}`**

<CodeGroup>
```bash Request
curl -X GET "https://api.vaani.ai/batch/batch_001" \
  -H "Cookie: access_token=YOUR_TOKEN"
```

```json Response
{
  "id": "batch_001",
  "name": "Feb Appointment Reminders",
  "status": "running",
  "total_items": 150,
  "completed_items": 45,
  "failed_items": 2,
  "pending_items": 103,
  "created_at": "2026-02-11T00:30:00Z"
}
```
</CodeGroup>

---

## List All Batches

**`GET /batch`**

Returns all batch jobs in the workspace, ordered by creation date.

---

## Get Batch Items

**`GET /batch/{batch_id}/items`**

Returns per-phone-number status:

```json
{
  "items": [
    {
      "id": "item_001",
      "phone_number": "+14155551234",
      "status": "completed",
      "call_log_id": "550e8400-e29b-41d4-a716-446655440000",
      "dynamic_variables": {"customer_name": "John Smith"}
    },
    {
      "id": "item_002",
      "phone_number": "+14155555678",
      "status": "failed",
      "error": "SIP call failed: no answer"
    }
  ]
}
```

---

## Delete Batch

**`DELETE /batch/{batch_id}`**

<Warning>Cannot delete a batch that is currently running. Wait for completion first.</Warning>

```bash
curl -X DELETE "https://api.vaani.ai/batch/batch_001" \
  -H "Cookie: access_token=YOUR_TOKEN"
```
